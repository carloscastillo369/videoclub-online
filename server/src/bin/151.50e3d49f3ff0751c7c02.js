"use strict";(self.webpackChunkapp_videoclub=self.webpackChunkapp_videoclub||[]).push([[151],{7151:(j,l,r)=>{r.r(l),r.d(l,{OrdersModule:()=>z});var p=r(8583),d=r(6983),u=r(5319),g=r(9877),t=r(7716),m=r(3065),f=r(1095),x=r(6627),c=r(5618),b=r(1769),C=r(5244);function T(e,o){if(1&e&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"h3",6),t._uU(4,"Datos Personales:"),t.qZA(),t._UZ(5,"mat-divider"),t.TgZ(6,"p",7),t._uU(7,"Nombre: "),t.TgZ(8,"span",8),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p",7),t._uU(11,"Email: "),t.TgZ(12,"span",8),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"p",7),t._uU(15,"Direcci\xf3n: "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"p",7),t._uU(19,"Tel\xe9fono: "),t.TgZ(20,"span",8),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",9),t.TgZ(23,"div",10),t.TgZ(24,"h3",6),t._uU(25,"Lista de pedido"),t.qZA(),t._UZ(26,"mat-divider"),t._UZ(27,"app-orders-table",11),t.TgZ(28,"div",12),t.TgZ(29,"h3",6),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw();t.xp6(9),t.Oqu(n.orders.user.name),t.xp6(4),t.Oqu(n.orders.user.email),t.xp6(4),t.Oqu(n.orders.user.address),t.xp6(4),t.Oqu(n.orders.user.phone),t.xp6(6),t.Q6J("orders",n.orders.order),t.xp6(3),t.hij("Total a Pagar: $ ",n.total.toFixed(2),"")}}let v=(()=>{class e{constructor(n){this.store=n,this.total=0,this.displayedColumns=["posicion","descripcion","tipo","precio"],this.subscription=new u.w}ngOnInit(){this.getOrder()}ngOnDestroy(){this.subscription.unsubscribe()}getOrder(){this.subscription.add(this.store.select(g.HG).subscribe(n=>{n&&(this.orders=n,this.total=this.CalcTotal(this.orders.order))}))}CalcTotal(n){let i=0;return n.forEach(s=>{i+=s.days*s.price}),i}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-detail"]],decls:6,vars:1,consts:[[1,"order-container"],["mat-raised-button","","color","primary","routerLink","/admin/orders"],["fxLayout","row wrap","fxLayoutAlign","space-between","class","orders-content",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"orders-content"],["fxFlex","100","fxFlex.gt-sm","30",1,"personal-data"],[1,"data"],[1,"text-bold"],[1,"text-title"],[1,"text-subtitle"],["xFlex","100","fxFlex.gt-sm","69",1,"orders-table-container"],[1,"orders-table"],[3,"orders"],[1,"total-price"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA(),t._uU(4," Regresar "),t.qZA(),t.YNc(5,T,31,6,"div",2),t.qZA()),2&n&&(t.xp6(5),t.Q6J("ngIf",i.orders))},directives:[f.lW,d.rH,x.Hw,p.O5,c.xw,c.Wh,c.yH,b.d,C.U],styles:[".order-container[_ngcontent-%COMP%]{padding:10px 8px}.orders-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:15px}.personal-data[_ngcontent-%COMP%]{width:100%;background-color:#212121;border-radius:5px;padding:20px 5px;margin-bottom:10px}.data[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:10px}.orders-table-container[_ngcontent-%COMP%]{width:100%;background-color:#212121;border-radius:5px;padding:20px 5px;margin-bottom:10px}.orders-table[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#fff;color:#000}mat-divider[_ngcontent-%COMP%]{margin-bottom:20px}.text-bold[_ngcontent-%COMP%]{font-weight:bold;margin-bottom:0}.text-title[_ngcontent-%COMP%]{font-weight:bold}.text-subtitle[_ngcontent-%COMP%]{font-weight:normal;font-style:italic}.total-price[_ngcontent-%COMP%]{width:100%;text-align:right;box-sizing:border-box;padding-right:24px}"]}),e})();var a=r(2789),Z=r(1254),A=r(1146);function P(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1," N\xb0 "),t.qZA())}function y(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.users.indexOf(n)+1," ")}}function w(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1," Nombre "),t.qZA())}function M(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.name)}}function U(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1," Email "),t.qZA())}function q(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.email)}}function D(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1," Accion "),t.qZA())}const h=function(e){return["/admin/orders/orderdetail",e]};function _(e,o){if(1&e&&(t.TgZ(0,"td",13),t.TgZ(1,"div",14),t.TgZ(2,"button",15),t.TgZ(3,"mat-icon"),t._uU(4,"shopping_cart"),t.qZA(),t._uU(5," Pedidos "),t.qZA(),t.qZA(),t.TgZ(6,"div",16),t.TgZ(7,"button",17),t.TgZ(8,"mat-icon"),t._uU(9,"shopping_cart"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(2,h,n._id)),t.xp6(5),t.Q6J("routerLink",t.VKq(4,h,n._id))}}function N(e,o){1&e&&t._UZ(0,"tr",18)}function Q(e,o){1&e&&t._UZ(0,"tr",19)}const S=function(){return[5,10,25,100]},Y=[{path:"",component:(()=>{class e{constructor(n){this.store=n,this.displayedColumns=["id","nombre","email","accion"],this.subscription=new u.w}ngOnInit(){this.getOrders()}ngOnDestroy(){this.subscription.unsubscribe()}getOrders(){this.subscription.add(this.store.select(g.AU).subscribe(n=>{let i=[];n.forEach(s=>{let O=Object.assign({_id:s._id},s.user);i.push(O)}),this.users=i,this.dataSource=new a.by(i),this.dataSource.paginator=this.paginator})),this.store.dispatch((0,A.sP)())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-orders-page"]],viewQuery:function(n,i){if(1&n&&t.Gf(Z.NW,5),2&n){let s;t.iGM(s=t.CRH())&&(i.paginator=s.first)}},decls:18,vars:6,consts:[[1,"order-container"],[1,"orders-list"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","email"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"buttons-container-web"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"buttons-container-mobile"],["mat-mini-fab","","color","accent",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,P,2,0,"th",4),t.YNc(5,y,2,1,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,w,2,0,"th",4),t.YNc(8,M,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,U,2,0,"th",4),t.YNc(11,q,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,D,2,0,"th",4),t.YNc(14,_,10,6,"td",5),t.BQk(),t.YNc(15,N,1,0,"tr",9),t.YNc(16,Q,1,0,"tr",10),t.qZA(),t._UZ(17,"mat-paginator",11),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSize",5)("pageSizeOptions",t.DdM(5,S)))},directives:[a.BZ,a.w1,a.fO,a.Dz,a.as,a.nj,Z.NW,a.ge,a.ev,f.lW,d.rH,x.Hw,a.XQ,a.Gk],styles:[".order-container[_ngcontent-%COMP%]{padding:20px 5px}.orders-list[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;border:1px solid rgba(216,210,210,.788);border-radius:10px;padding:20px 5px}table[_ngcontent-%COMP%]{width:100%}.btn-delete[_ngcontent-%COMP%]{margin-right:10px}.buttons-container-mobile[_ngcontent-%COMP%]{width:40px}.buttons-container-web[_ngcontent-%COMP%]{display:none}@media (min-width: 600px){.buttons-container-mobile[_ngcontent-%COMP%]{display:none}.buttons-container-web[_ngcontent-%COMP%]{display:block}.btn-delete[_ngcontent-%COMP%]{margin-right:30px}}@media (min-width: 700px){.order-container[_ngcontent-%COMP%]{padding:20px}.orders-list[_ngcontent-%COMP%]{padding:20px 50px}}"]}),e})()},{path:"orderdetail/:id",component:v}];let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Y)],d.Bz]}),e})();var B=r(9673),H=r(4466),J=r(5566),L=r(5887),R=r(6927);let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,F,B.q,H.m,J.o9,L.sQ.forFeature([R.F])]]}),e})()}}]);